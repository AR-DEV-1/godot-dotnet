<Project>

  <PropertyGroup>
    <_GodotTasksAssemblyPath>$(MSBuildThisFileDirectory)..\tools\net\Godot.Tasks.dll</_GodotTasksAssemblyPath>
  </PropertyGroup>

  <PropertyGroup>
    <EnableDefaultNoneItems>false</EnableDefaultNoneItems>
  </PropertyGroup>

  <!-- Auto-detect the target Godot platform if it was not specified. -->
  <PropertyGroup Condition="'$(GodotTargetPlatform)' == ''">
    <GodotTargetPlatform Condition="$(RuntimeIdentifier.StartsWith('ios'))">ios</GodotTargetPlatform>
    <GodotTargetPlatform Condition="$(RuntimeIdentifier.StartsWith('android'))">android</GodotTargetPlatform>
    <GodotTargetPlatform Condition="$(RuntimeIdentifier.StartsWith('browser'))">web</GodotTargetPlatform>
    <GodotTargetPlatform Condition="$(RuntimeIdentifier.StartsWith('linux'))">linuxbsd</GodotTargetPlatform>
    <GodotTargetPlatform Condition="$(RuntimeIdentifier.StartsWith('freebsd'))">linuxbsd</GodotTargetPlatform>
    <GodotTargetPlatform Condition="$(RuntimeIdentifier.StartsWith('osx'))">macos</GodotTargetPlatform>
    <GodotTargetPlatform Condition="$(RuntimeIdentifier.StartsWith('win'))">windows</GodotTargetPlatform>
  </PropertyGroup>

  <!-- Auto-detect the target Godot platform if it was not specified and there's no runtime identifier information. -->
  <PropertyGroup Condition="'$(GodotTargetPlatform)' == ''">
    <GodotTargetPlatform Condition="'$([MSBuild]::IsOsPlatform(Linux))'">linuxbsd</GodotTargetPlatform>
    <GodotTargetPlatform Condition="'$([MSBuild]::IsOsPlatform(FreeBSD))'">linuxbsd</GodotTargetPlatform>
    <GodotTargetPlatform Condition="'$([MSBuild]::IsOsPlatform(OSX))'">macos</GodotTargetPlatform>
    <GodotTargetPlatform Condition="'$([MSBuild]::IsOsPlatform(Windows))'">windows</GodotTargetPlatform>
  </PropertyGroup>

  <PropertyGroup>
    <GodotFloat64 Condition="'$(GodotFloat64)' == ''">false</GodotFloat64>
  </PropertyGroup>

  <!--
    Define constants to determine the target Godot platform. This includes the
    recognized platform names and the platform category (PC, MOBILE or WEB).
  -->
  <PropertyGroup>
    <_GodotPlatformConstants Condition="'$(GodotTargetPlatform)' == 'windows'">GODOT_WINDOWS;GODOT_PC</_GodotPlatformConstants>
    <_GodotPlatformConstants Condition="'$(GodotTargetPlatform)' == 'linuxbsd'">GODOT_LINUXBSD;GODOT_PC</_GodotPlatformConstants>
    <_GodotPlatformConstants Condition="'$(GodotTargetPlatform)' == 'macos'">GODOT_OSX;GODOT_MACOS;GODOT_PC</_GodotPlatformConstants>
    <_GodotPlatformConstants Condition="'$(GodotTargetPlatform)' == 'android'">GODOT_ANDROID;GODOT_MOBILE</_GodotPlatformConstants>
    <_GodotPlatformConstants Condition="'$(GodotTargetPlatform)' == 'ios'">GODOT_IPHONE;GODOT_IOS;GODOT_MOBILE</_GodotPlatformConstants>
    <_GodotPlatformConstants Condition="'$(GodotTargetPlatform)' == 'web'">GODOT_JAVASCRIPT;GODOT_HTML5;GODOT_WASM;GODOT_WEB</_GodotPlatformConstants>
  </PropertyGroup>

</Project>
